<!DOCTYPE HTML>
<html lang="en">
    
    <head>
        
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <title>Common Data Types | Introduction</title>
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="generator" content="GitBook 2.6.7">
        
        
        <meta name="HandheldFriendly" content="true">
        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black">
        <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
        <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">
        
    <link rel="stylesheet" href="../gitbook/style.css">
    
        
        <link rel="stylesheet" href="../gitbook/plugins/gitbook-plugin-anchors/plugin.css">
        
    
        
        <link rel="stylesheet" href="../gitbook/plugins/gitbook-plugin-highlight/website.css">
        
    
        
        <link rel="stylesheet" href="../gitbook/plugins/gitbook-plugin-search/search.css">
        
    
        
        <link rel="stylesheet" href="../gitbook/plugins/gitbook-plugin-fontsettings/website.css">
        
    
    

        
    
    
    <link rel="next" href="../headers/CommonHeaders.html">
    
    
    <link rel="prev" href="../data-formats/DataFormats.html">
    

        
    </head>
    <body>
        
        
    <div class="book" data-level="14" data-chapter-title="Common Data Types" data-filepath="common-data-types/CommonDataTypes.md" data-basepath=".." data-revision="Sat Jul 22 2017 21:12:13 GMT+0000 (UTC)" data-innerlanguage="">
    

<div class="book-summary">
    <nav role="navigation">
        <ul class="summary">
            
            
            
            

            

            
    
        <li class="chapter " data-level="1" data-path="TOC.html">
            
                
                    <a href="../TOC.html">
                
                        <i class="fa fa-check"></i>
                        
                            
                        
                        Table of Contents
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="0" data-path="index.html">
            
                
                    <a href="../index.html">
                
                        <i class="fa fa-check"></i><b>1.</b>
                        
                        Introduction
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2" data-path="design-principles/DesignPrinciples.html">
            
                
                    <a href="../design-principles/DesignPrinciples.html">
                
                        <i class="fa fa-check"></i><b>2.</b>
                        
                            
                        
                        Principles
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3" data-path="general-guidelines/GeneralGuidelines.html">
            
                
                    <a href="../general-guidelines/GeneralGuidelines.html">
                
                        <i class="fa fa-check"></i><b>3.</b>
                        
                            
                        
                        General Guidelines
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="4" data-path="security/Security.html">
            
                
                    <a href="../security/Security.html">
                
                        <i class="fa fa-check"></i><b>4.</b>
                        
                            
                        
                        Security
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="5" data-path="compatibility/Compatibility.html">
            
                
                    <a href="../compatibility/Compatibility.html">
                
                        <i class="fa fa-check"></i><b>5.</b>
                        
                            
                        
                        Compatibility
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="6" data-path="json-guidelines/JsonGuidelines.html">
            
                
                    <a href="../json-guidelines/JsonGuidelines.html">
                
                        <i class="fa fa-check"></i><b>6.</b>
                        
                            
                        
                        JSON Guidelines
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="7" data-path="naming/Naming.html">
            
                
                    <a href="../naming/Naming.html">
                
                        <i class="fa fa-check"></i><b>7.</b>
                        
                            
                        
                        Naming
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="8" data-path="resources/Resources.html">
            
                
                    <a href="../resources/Resources.html">
                
                        <i class="fa fa-check"></i><b>8.</b>
                        
                            
                        
                        Resources
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="9" data-path="http/Http.html">
            
                
                    <a href="../http/Http.html">
                
                        <i class="fa fa-check"></i><b>9.</b>
                        
                            
                        
                        HTTP
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="10" data-path="performance/Performance.html">
            
                
                    <a href="../performance/Performance.html">
                
                        <i class="fa fa-check"></i><b>10.</b>
                        
                            
                        
                        Performance
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="11" data-path="pagination/Pagination.html">
            
                
                    <a href="../pagination/Pagination.html">
                
                        <i class="fa fa-check"></i><b>11.</b>
                        
                            
                        
                        Pagination
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="12" data-path="hyper-media/Hypermedia.html">
            
                
                    <a href="../hyper-media/Hypermedia.html">
                
                        <i class="fa fa-check"></i><b>12.</b>
                        
                            
                        
                        Hypermedia
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="13" data-path="data-formats/DataFormats.html">
            
                
                    <a href="../data-formats/DataFormats.html">
                
                        <i class="fa fa-check"></i><b>13.</b>
                        
                            
                        
                        Data Formats
                    </a>
            
            
        </li>
    
        <li class="chapter active" data-level="14" data-path="common-data-types/CommonDataTypes.html">
            
                
                    <a href="../common-data-types/CommonDataTypes.html">
                
                        <i class="fa fa-check"></i><b>14.</b>
                        
                            
                        
                        Common Data Types
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="15" data-path="headers/CommonHeaders.html">
            
                
                    <a href="../headers/CommonHeaders.html">
                
                        <i class="fa fa-check"></i><b>15.</b>
                        
                            
                        
                        Common Headers
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="16" data-path="headers/ProprietaryHeaders.html">
            
                
                    <a href="../headers/ProprietaryHeaders.html">
                
                        <i class="fa fa-check"></i><b>16.</b>
                        
                            
                        
                        Proprietary Headers
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="17" data-path="deprecation/Deprecation.html">
            
                
                    <a href="../deprecation/Deprecation.html">
                
                        <i class="fa fa-check"></i><b>17.</b>
                        
                            
                        
                        Deprecation
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="18" data-path="api-operation/ApiOperation.html">
            
                
                    <a href="../api-operation/ApiOperation.html">
                
                        <i class="fa fa-check"></i><b>18.</b>
                        
                            
                        
                        API Operation
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="19" data-path="events/events.html">
            
                
                    <a href="../events/events.html">
                
                        <i class="fa fa-check"></i><b>19.</b>
                        
                            
                        
                        Events
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="20" data-path="references/References.html">
            
                
                    <a href="../references/References.html">
                
                        <i class="fa fa-check"></i><b>20.</b>
                        
                            
                        
                        References
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="21" data-path="tooling/Tooling.html">
            
                
                    <a href="../tooling/Tooling.html">
                
                        <i class="fa fa-check"></i><b>21.</b>
                        
                            
                        
                        Tooling
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="22" data-path="changelog/Changelog.html">
            
                
                    <a href="../changelog/Changelog.html">
                
                        <i class="fa fa-check"></i><b>22.</b>
                        
                            
                        
                        Changelog
                    </a>
            
            
        </li>
    


            
            <li class="divider"></li>
            <li>
                <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
                    Published with GitBook
                </a>
            </li>
            
        </ul>
    </nav>
</div>

    <div class="book-body">
        <div class="body-inner">
            <div class="book-header" role="navigation">
    <!-- Actions Left -->
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="../">Introduction</a>
    </h1>
</div>

            <div class="page-wrapper" tabindex="-1" role="main">
                <div class="page-inner">
                
                
                    <section class="normal" id="section-">
                    
                        <h1 id="common-data-types">Common Data Types</h1>
<p>Definitions of data objects that are good candidates for wider usage:</p>
<h2 id="should-use-a-common-money-object"><span style="color:darkgoldenrod;font-weight:bold">Should:</span> Use a Common Money Object</h2>
<p>Use the following common money structure:</p>
<pre><code>Money:
  type: object
  properties:
    amount:
      type: number
      description: Amount expressed as a decimal number of major currency units
      format: decimal
      example: 99.95
    currency:
      type: string
      description: 3 letter currency code as defined by ISO-4217
      format: iso-4217
      example: EUR
  required:
    - amount
    - currency
</code></pre><p>The decimal values for &quot;amount&quot; describe unit and subunit of the currency in a single value, where
the digits before the decimal point are for the major unit and the digits after the decimal point are
for the minor unit. Note that some business cases (e.g. transactions in Bitcoin) call for a higher
precision, so applications must be prepared to accept values with unlimited precision, unless
explicitly stated otherwise in the API specification.
Examples for correct representations (in EUR):</p>
<ul>
<li><code>42.20</code> or <code>42.2</code> = 42 Euros, 20 Cent</li>
<li><code>0.23</code> = 23 Cent</li>
<li><code>42.0</code> or <code>42</code> = 42 Euros</li>
<li><code>1024.42</code> = 1024 Euros, 42 Cent</li>
<li><code>1024.4225</code> = 1024 Euros, 42.25 Cent</li>
</ul>
<p>Make sure that you don&#x2019;t convert the &#x201C;amount&#x201D; field to <code>float</code> / <code>double</code> types when implementing
this interface in a specific language or when doing calculations. Otherwise, you might lose
precision. Instead, use exact formats like
Java&#x2019;s <a href="https://docs.oracle.com/javase/8/docs/api/java/math/BigDecimal.html" target="_blank"><code>BigDecimal</code></a>.
See <a href="http://stackoverflow.com/a/3730040/342852" target="_blank">Stack Overflow</a> for more info.</p>
<p>Some JSON parsers (NodeJS&#x2019;s, for example) convert numbers to floats by default. After discussing the
<a href="https://docs.google.com/spreadsheets/d/12wTj-2w39f69XZGwRDrosNc1yWPwQpGgEs_DCt5ODaQ" target="_blank">pros and cons</a>,
we&#x2019;ve decided on &quot;decimal&quot; as our amount format. It is not a standard OpenAPI format, but should
help us to avoid parsing numbers as float / doubles.</p>
<h2 id="must-use-common-field-names-and-semantics"><span style="color:red;font-weight:bold">Must:</span> Use common field names and semantics</h2>
<p>There exist a variety of field types that are required in multiple places. To achieve consistency across all API implementations, you must use common field names and semantics whenever applicable.</p>
<h3 id="generic-fields">Generic Fields</h3>
<p>There are some data fields that come up again and again in API data:</p>
<ul>
<li><p><code>id</code>: the identity of the object. If used, IDs must opaque strings and not numbers. IDs are unique within some documented context, are stable and don&apos;t change for a given object once assigned, and are never recycled cross entities.</p>
</li>
<li><p><code>xyz_id</code>: an attribute within one object holding the identifier of another object must use a name that corresponds to the type of the referenced object or the relationship to the referenced object followed by <code>_id</code> (e.g. <code>customer_id</code> not <code>customer_number</code>; <code>parent_node_id</code> for the reference to a parent node from a child node, even if both have the type <code>Node</code>)</p>
</li>
<li><p><code>created</code>: when the object was created. If used, this must be a <code>date-time</code> construct.</p>
</li>
<li><p><code>modified</code>: when the object was updated. If used, this must be a <code>date-time</code> construct.</p>
</li>
<li><p><code>type</code>: the kind of thing this object is. If used, the type of this field should be a string. Types allow runtime information on the entity provided that otherwise requires examining the Open API file.</p>
</li>
</ul>
<p>Example JSON schema:</p>
<pre><code>tree_node:
  type: object
  properties: 
    id:
      description: the identifier of this node
      type: string
    created:
      description: when got this node created
      type: string
      format: &apos;date-time&apos;
    modified:
      description: when got this node last updated
      type: string
      format: &apos;date-time&apos;
    type:
      type: string
      enum: [ &apos;LEAF&apos;, &apos;NODE&apos; ]
    parent_node_id:
      description: the identifier of the parent node of this node
      type: string
  example:
    id: &apos;123435&apos;
    created: &apos;2017-04-12T23:20:50.52Z&apos;
    modified: &apos;2017-04-12T23:20:50.52Z&apos;
    type: &apos;LEAF&apos;
    parent_node_id: &apos;534321&apos;
</code></pre><p>These properties are not always strictly necessary, but making them idiomatic allows API client developers to build up a common understanding of Zalando&apos;s resources. There is very little utility for API consumers in having different names or value types for these fields across APIs.</p>
<h3 id="address-fields">Address Fields</h3>
<p>Address structures play a role in different functional and use-case contexts, including country
variances. All attributes that relate to address information should follow the naming
and semantics defined below.</p>
<pre><code>addressee:
    description:
      a (natural or legal) person that gets addressed
    type: object
    required:
      - first_name
      - last_name
      - street
      - city
      - zip
      - country_code
    properties:
      salutation:
        description: |
          a salutation and/or title used for personal contacts to some addressee;
          not to be confused with the gender information!
        type: string
        example: Mr
      first_name:
        description: |
          given name(s) or first name(s) of a person; may also include the middle names.
        type: string
        example: Hans Dieter
      last_name:
        description: |
          family name(s) or surname(s) of a person
        type: string
        example: Mustermann
      business_name:
        description: |
          company name of the business organization. Used when a business is the actual
          addressee; for personal shipments to office addresses, use `care_of` instead.
        type: string
        example: Consulting Services GmbH
    required:
      - first_name
      - last_name

address:
    description:
      an address of a location/destination
    type: object
    properties:
      care_of:
        description: |
          (aka c/o) the person that resides at the address, if different from
          addressee. E.g. used when sending a personal parcel to the 
          office /someone else&apos;s home where the addressee resides temporarily
        type: string
        example: Consulting Services GmbH
      street:
        description: |
          the full street address including house number and street name
        type: string
        example: Sch&#xF6;nhauser Allee 103
      additional:
        description: |
          further details like building name, suite, apartment number, etc.
        type: string
        example: 2. Hinterhof rechts
      city:
        description: |
          name of the city / locality
        type: string
        example: Berlin
      zip:
        description: |
          zip code or postal code
        type: string
        example: 14265
      country_code:
        description: |
          the country code according to 
          [iso-3166-1-alpha-2](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2)
        type: string
        example: DE
    required:
      - street
      - city
      - zip
      - country_code
</code></pre><p>Grouping and cardinality of fields in specific data types may vary based on the specific use case
(e.g. combining addressee and address fields into a single type when modeling an address label vs distinct addressee and address types when modeling users and their addresses).</p>
<h2 id="must-follow-hypertext-control-conventions"><span style="color:red;font-weight:bold">Must:</span> Follow Hypertext Control Conventions</h2>
<p>APIs that provide hypertext controls (links) to interconnect API resources must follow
the conventions for naming and modeling of hypertext controls as defined in section <a href="../hyper-media/Hypermedia.html">Hypermedia</a>. </p>
<h2 id="must-use-problem-json"><span style="color:red;font-weight:bold">Must:</span> Use Problem JSON</h2>
<p><a href="http://tools.ietf.org/html/rfc7807" target="_blank">RFC 7807</a> defines the media type <code>application/problem+json</code>.
Operations should return that (together with a suitable status code) when any problem
occurred during processing and you can give more details than the status code itself
can supply, whether it be caused by the client or the server (i.e. both for 4xx or 5xx errors).</p>
<p>A previous version of this guideline (before the publication of that RFC and the
registration of the media type) told to return <code>application/x.problem+json</code> in these
cases (with the same contents).
Servers for APIs defined before this change should pay attention to the <code>Accept</code> header sent
by the client and set the <code>Content-Type</code> header of the problem response correspondingly.
Clients of such APIs should accept both media types.</p>
<p>APIs may define custom problems types with extension properties, according to their specific needs.</p>
<p>The Open API schema definition can be found <a href="https://zalando.github.io/problem/schema.yaml" target="_blank">on github</a>.
You can reference it by using:</p>
<pre><code class="lang-yaml">responses:
  503:
    description: Service Unavailable
    schema:
      $ref: &apos;https://zalando.github.io/problem/schema.yaml#/Problem&apos;
</code></pre>
<h2 id="must-do-not-expose-stack-traces"><span style="color:red;font-weight:bold">Must:</span> Do not expose Stack Traces</h2>
<p>Stack traces contain implementation details that are not part of an API, and on which clients
should never rely. Moreover, stack traces can leak sensitive information that partners and third
parties are not allowed to receive and may disclose insights about vulnerabilities to attackers.</p>

                    
                    </section>
                
                
                </div>
            </div>
        </div>

        
        <a href="../data-formats/DataFormats.html" class="navigation navigation-prev " aria-label="Previous page: Data Formats"><i class="fa fa-angle-left"></i></a>
        
        
        <a href="../headers/CommonHeaders.html" class="navigation navigation-next " aria-label="Next page: Common Headers"><i class="fa fa-angle-right"></i></a>
        
    </div>
</div>

        
<script src="../gitbook/app.js"></script>

    
    <script src="../gitbook/plugins/gitbook-plugin-edit-link/plugin.js"></script>
    

    
    <script src="../gitbook/plugins/gitbook-plugin-search/lunr.min.js"></script>
    

    
    <script src="../gitbook/plugins/gitbook-plugin-search/search.js"></script>
    

    
    <script src="../gitbook/plugins/gitbook-plugin-fontsettings/buttons.js"></script>
    

<script>
require(["gitbook"], function(gitbook) {
    var config = {"structured-toc":{},"gitbook-restructure-navigation":{"transformations":[{"from":0,"to":1}]},"edit-link":{"base":"https://github.com/zalando/restful-api-guidelines/edit/master","label":"Edit This Page"},"restructure-navigation":{},"anchors":{},"highlight":{},"search":{"maxIndexSize":1000000},"fontsettings":{"family":"sans","size":2,"theme":"white"}};
    gitbook.start(config);
});
</script>

        
    </body>
    
</html>
